<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Snow Background</title>

<style>
    html, body {
        margin: 0;
        height: 100%;
        overflow: hidden;
        background: #000;
    }

    /* Background image */
    #bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        object-fit: cover;
        z-index: 0 ;
    }

    /* Snow canvas */
    #snow {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 1;
        pointer-events: none;
    }
</style>

</head>
<body>

<img id="bg" src="background.png">

<canvas id="snow"></canvas>

<script>
const canvas = document.getElementById("snow");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.onresize = resize;

const flakes = [];
const flakeCount = 150;

for (let i = 0; i < flakeCount; i++) {
    flakes.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 2 + 1,     // size
        d: Math.random() + 0.5,       // fall speed
    });
}

function drawSnow() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "white";
    ctx.beginPath();

    for (let i = 0; i < flakeCount; i++) {
        let f = flakes[i];
        ctx.moveTo(f.x, f.y);
        ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
    }

    ctx.fill();
    updateSnow();
}

function updateSnow() {
    for (let i = 0; i < flakeCount; i++) {
        let f = flakes[i];
        f.y += f.d;
        f.x += Math.sin(f.y * 0.01) * 0.5; // slight drifting

        if (f.y > canvas.height) {
            flakes[i] = {
                x: Math.random() * canvas.width,
                y: -10,
                r: f.r,
                d: f.d
            };
        }
    }
}

function loop() {
    drawSnow();
    requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
